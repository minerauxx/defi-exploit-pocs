// SPDX-License-Identifier: UNLICENSED
pragma solidity ^0.8.13;

import "forge-std/Test.sol";
import "../src/PickleExploiter.sol";

contract PickleTest is Test {
    IERC20Like private constant DAI = IERC20Like(0x6B175474E89094C44Da98b954EedeAC495271d0F);
    PickleExploiter exploiter;

    function setUp() public {
        vm.createSelectFork(vm.rpcUrl("mainnet"), 11303122);

        exploiter = new PickleExploiter();
    }

    function testExploit() public {
        exploiter.exploit();
        assertTrue(DAI.balanceOf(address(exploiter)) > 19_759_355e18);
    }
}
